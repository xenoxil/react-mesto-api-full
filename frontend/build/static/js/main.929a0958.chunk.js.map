{"version":3,"sources":["images/header-logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","images/Vector-1.svg","images/Vector.svg","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/registerSuccess.svg","images/registerDecline.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","headerLogo","alt","path","to","userEmail","onClick","onLogOut","Footer","date","Date","getFullYear","CurrentUserContext","React","createContext","Card","userProfile","useContext","isOwn","cardObj","owner","_id","isLiked","likes","some","i","link","name","onCardClick","type","aria-label","onCardDelete","vector1","vector","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","item","onImage","PopupWithForm","isOpen","id","autoComplete","noValidate","onSubmit","title","children","buttonLabel","onClose","ImagePopup","card","api","options","this","_options","_headers","headers","fetch","baseUrl","then","res","ok","json","Promise","reject","status","method","catch","err","console","log","newName","newTitle","body","JSON","stringify","all","getInitialCards","getProfile","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","required","minLength","maxLength","EditAvatarPopup","avatarLinkRef","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","placeNameRef","placeLinkRef","ProtectedRoute","Component","component","loggedIn","withRouter","email","password","handleSubmit","onLogin","onRegisterClick","InfooTooltip","isSuccess","registerSuccess","registerDecline","auth","credentials","App","setUserEmail","history","useHistory","isEditProfilePopupOpen","setIsEditProfileOpen","loggedInState","setLoggedInState","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoToolTipPopupOpen","setIsInfoToolTipPopupOpen","isAuthReqSuccess","SetIsAuthReqSuccess","selectedCard","setSelectedCard","setCards","currentUser","setCurrentUser","handleUpdateUser","editProfile","prevUserState","CloseAllPopups","profileObj","push","cardsArray","Provider","logout","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","login","getInfo","register","response","finally","obj","sendElement","changeAvatarIcon","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.929a0958.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.03b78ada.svg\";","import React from \"react\";\nimport headerLogo from \"../images/header-logo.svg\";\nimport { Link,Route, Switch } from \"react-router-dom\";\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img\n        src={headerLogo}\n        className=\"header__logo\"\n        alt=\"Логотип Место Russia\"\n      />\n      <Switch>\n        <Route path='/sign-up'>\n        <Link to='/sign-in' className='header__link hover'>\n            Войти\n            </Link>\n        </Route>\n        <Route path='/sign-in'>\n        <Link to='/sign-up' className='header__link hover'>\n          {'Регистрация'} \n            </Link>\n        </Route>\n        <Route path='/'>\n            <div className='header__container'>\n            <p className='header__email'>{props.userEmail}</p>\n            <Link to='/sign-in' className='header__link hover' onClick={props.onLogOut}>\n            Выйти\n            </Link>\n          </div>\n        </Route>\n      </Switch>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react'\n\nfunction Footer() {\n    const date = new Date();\n\n    return (\n        <footer className='footer'>\n            <p className='footer__copyright' > &copy; {date.getFullYear()} Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer","import React from 'react'\n\n\nconst CurrentUserContext = React.createContext()\nexport default CurrentUserContext;","export default __webpack_public_path__ + \"static/media/Vector-1.7b8dd559.svg\";","export default __webpack_public_path__ + \"static/media/Vector.596a2577.svg\";","import React from 'react'\nimport vector1 from '../images/Vector-1.svg'\nimport vector from '../images/Vector.svg'\nimport CurrentUserContext from '../contexts/CurrentUserContext.js'\n\nfunction Card(props) {\n  const userProfile = React.useContext(CurrentUserContext);\n\n  const isOwn = props.cardObj.owner._id === userProfile._id;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.cardObj.likes.some(i => i._id === userProfile._id);\n\n  function likeCard() {\n    props.onCardLike(props.cardObj)\n  }\n  function deleteCard() {\n    props.onCardDelete(props.cardObj)\n  }\n\n  function handleClick() {\n    props.onCardClick(props.cardObj);\n  }\n  return (\n    <li className=\"element\">\n      <div className=\"element__container\">\n        <img className=\"element__image\" src={props.link} alt={props.name} onClick={handleClick} />\n      </div>\n      {isOwn &&\n        <button className=\"element__trashbtn hover\" type=\"button\" aria-label=\"Кнопка удалить\" onClick={deleteCard} >\n          <img src={vector1} alt=\"Кнопка удалить\" className=\"element__trashpic\" />\n          <img src={vector} alt=\"Кнопка удалить\" className=\"element__trashpic\" />\n        </button> \n      }\n      <div className=\"element__footer\">\n        <h2 className=\"element__title\" >{props.name}</h2>\n        <div>\n          <button className={isLiked ? 'element__likebtn element__likebtn_active' : 'element__likebtn'} type=\"button\" aria-label=\"Кнопка лайк\" onClick={likeCard} />\n          <span className=\"element__likecounter\">{props.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card","import React from 'react'\nimport CurrentUserContext from '../contexts/CurrentUserContext.js'\nimport Card from './Card.js'\n\nfunction Main(props) {\n\n  const userProfile = React.useContext(CurrentUserContext);\n\n\n  /*const [isDeleteConfirmationPopupOpen, setIsDeleteConfirmationPopupOpen] = React.useState(false);*/\n\n\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button className=\"profile__editavatar\" onClick={props.onEditAvatar} />\n        <img src={userProfile.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\n        <div>\n          <div className=\"profile__container\">\n            <h1 className=\"profile__name\">{userProfile.name}</h1>\n            <button className=\"profile__edit-btn hover\" onClick={props.onEditProfile} type=\"button\" aria-label=\"Кнопка редактировать профиль\" />\n          </div>\n          <p className=\"profile__title\">{userProfile.about}</p>\n        </div>\n        <button className=\"profile__add-btn hover\" type=\"button\" aria-label=\"Кнопка добавить карточку\" onClick={props.onAddPlace} />\n      </section>\n      <section>\n        <ul className=\"elements\">\n          {\n            props.cards.map((item) => {\n              return (<Card cardObj={item} name={item.name} link={item.link} likes={item.likes} key={item._id}\n                onCardClick={props.onImage} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />)\n\n            })}\n        </ul>\n      </section>\n\n\n    </main>\n  )\n}\n\n\nexport default Main","import React from 'react'\nfunction PopupWithForm(props) {\n\n  return (\n\n    <section className={props.isOpen ? `popup  ${props.name} popup_status_opened` : `popup  ${props.name}`}>\n      <form className=\"popup__container popup__form\" id={props.id} name={props.id} autoComplete=\"off\" noValidate onSubmit={props.onSubmit}>\n        <h3 className=\"popup__header\">{props.title}</h3>\n        {props.children}\n        <button className=\"popup__submitbtn popup__submitProfile\" type=\"submit\" aria-label=\"Кнопка сохранить \">{props.buttonLabel}</button>\n        <button className=\"popup__closebtn popup__closeBtnEdit hover\" type=\"reset\" aria-label=\"Кнопка закрыть\" onClick={props.onClose} />\n      </form>\n    </section>\n\n\n\n  )\n}\n\nexport default PopupWithForm","import React from 'react'\n\n\nfunction ImagePopup(props) {\n\n  return (\n    <section className={props.card.link !== '#' ? `popup popupImage popup_status_opened` : `popup popupImage`}>\n      <div className=\"popup__imagecontainer\">\n        <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\n        <h3 className=\"popup__element\" >{props.card.name}</h3>\n        <button className=\"popup__closebtn popup__closeBtnImage hover\" type=\"button\" aria-label=\"Кнопка закрыть\" onClick={props.onClose} />\n      </div>\n    </section>\n  )\n}\n\nexport default ImagePopup;","export class Api {\n    constructor(options) {\n        // тело конструктора\n        this._options = options;\n        this._headers = this._options.headers;\n\n    }\n    //получаем карточки с сервера\n    getInitialCards() {\n        // ...\n        return fetch(`${this._options.baseUrl}/cards`, {\n            headers: this._options.headers,\n            'credentials': 'include',\n        })\n            .then((res) => {\n                if (res.ok) {\n                    return res.json();\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\n            })\n    }\n    //удаляем карточку на сервере\n    deleteCard(id) {\n        return fetch(`${this._options.baseUrl}/cards/${id}`, {\n            method: 'DELETE',\n            'credentials': 'include',\n            headers: this._options.headers\n        })\n            .then((res) => {\n                if (res.ok) {\n                    return res.json();\n                } else { return Promise.reject(`Ошибка: удаление${res.status}`) }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n    //получаем данные профайла\n    getProfile() {\n        return fetch(`${this._options.baseUrl}/users/me`, {\n            headers: this._options.headers,\n            'credentials': 'include',\n        })\n            .then((res) => {\n                if (res.ok) {\n                    return res.json();\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n    //патчим профайл на сервере\n    editProfile(newName, newTitle) {\n        return fetch(`${this._options.baseUrl}/users/me`, {\n            method: 'PATCH',\n            'credentials': 'include',\n            headers: this._options.headers,\n            body: JSON.stringify({\n                name: newName,\n                about: newTitle\n            })\n        })\n            .then((res) => {\n                if (res.ok) {\n                    return res.json();\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\n            })            \n    }\n    //одновременное получение инфы по карточкам и профилю\n    getInfo() {\n        return Promise.all([this.getInitialCards(), this.getProfile()])\n    }\n    //отправка новой карточки на сервер\n    sendElement({ name, link }) {\n        return fetch(`${this._options.baseUrl}/cards`, {\n            method: 'POST',\n            'credentials': 'include',\n            headers: this._options.headers,\n            body: JSON.stringify({\n                name: name,\n                link: link\n            })\n        })\n            .then((res) => {\n                if (res.ok) {                    \n                    return res.json();\n                } else { return Promise.reject(res.status) }\n            })\n    }\n    //замена аватара на сервере\n    changeAvatarIcon(avatar) {\n        return fetch(`${this._options.baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            'credentials': 'include',\n            headers: this._options.headers,\n            body: JSON.stringify({\n                avatar: avatar\n            })\n        })\n            .then((res) => {\n                if (res.ok) {\n                    return res.json();\n                } else { return Promise.reject(`Ошибка обновления аватара: ${res.status}`) }\n            })            \n    }\n    changeLikeCardStatus(id, isLiked) {\n        // Обычная реализация: 2 разных метода для удаления и постановки лайка.\n        return fetch(`${this._options.baseUrl}/cards/${id}/likes`, {\n            method: isLiked ? 'PUT' : 'DELETE',\n            'credentials': 'include',\n            headers: this._options.headers,\n        })\n            .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\n    }\n\n    //отправка лайка \n    sendLike(id) {\n        return fetch(`${this._options.baseUrl}/cards/likes/${id}`, {\n            method: 'PUT',\n            'credentials': 'include',\n            headers: this._options.headers\n        })\n            .then((res) => {\n                if (res.ok) {\n                    return res.json();\n                } else { return Promise.reject(`Ошибка при отправке лайка: ${res.status}`) }\n            })\n            .catch(() => {\n                console.log(`Ошибка при отправке лайка`)\n            })\n    }\n\n    //удаление лайка на сервере\n    removeLike(id) {\n        return fetch(`${this._options.baseUrl}/cards/likes/${id}`, {\n            method: 'DELETE',\n            'credentials': 'include',\n            headers: this._options.headers\n        })\n            .then((res) => {\n                if (res.ok) {\n                    return res.json();\n                } else { return Promise.reject(`Ошибка при удалении лайка: ${res.status}`) }\n            })\n            .catch((err) => {\n                console.log(`Ошибка при удалении лайка ${err}`)\n            })\n    }\n\n\n}\n\nconst api = new Api({\n    baseUrl: 'https://xenoxil.mesto-api.nomoreparties.sbs',\n    headers: {        \n        'Content-Type': 'application/json'\n    }\n});\n/*http://localhost:3001*/\n\nexport default api","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n    const userProfile = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState(userProfile.name);\n    const [description, setDescription] = React.useState(userProfile.about)\n\n    React.useEffect(() => {\n        if (userProfile) {\n            setName(userProfile.name)\n            setDescription(userProfile.about)\n        }\n    }, [userProfile])\n\n    function handleNameChange(e) {\n        setName(e.target.value)\n    }\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n\n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n        setName(userProfile.name)\n        setDescription(userProfile.about)\n    }\n\n    return (\n        <PopupWithForm name='popupEditProfile' title='Редактировать профиль' id='editProfileForm' buttonLabel='Сохранить' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input className=\"popup__input\" type=\"text\" value={name} onChange={handleNameChange} name=\"profileName\" id=\"popup__profilename\" required minLength={2} maxLength={40} />\n            <span className=\"error\" id=\"popup__profilename-error\" />\n            <input className=\"popup__input\" type=\"text\" value={description} onChange={handleDescriptionChange} name=\"profileTitle\" id=\"popup__profiletitle\" required minLength={2} maxLength={200} />\n            <span className=\"error\" id=\"popup__profiletitle-error\" />\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n    const avatarLinkRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: avatarLinkRef.current.value,\n        });\n    }\n\n    return (\n        <PopupWithForm name='popupChangeAvatar' title='Обновить Аватар' id='changeAvatarForm' buttonLabel='Сохранить' onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\n            <input className=\"popup__input\" ref={avatarLinkRef} type=\"url\" name=\"popup__link\" id=\"popup__linkAvatar\" placeholder=\"Ссылка на картинку\" required />\n            <span className=\"error\" id=\"popup__linkAvatar-error\" />\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n    const placeNameRef = React.useRef();\n    const placeLinkRef = React.useRef();\n\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlace({\n            name: placeNameRef.current.value,\n            link: placeLinkRef.current.value\n        })\n        placeNameRef.current.value='';\n        placeLinkRef.current.value='';\n    }\n\n\n    return (\n        <PopupWithForm name='popupAddNewElement' onSubmit={handleSubmit} title='Новое место' id='addNewElementForm' buttonLabel='Сохранить' isOpen={props.isOpen} onClose={props.onClose}>\n            <input className=\"popup__input\" ref={placeNameRef} type=\"text\" name=\"popup__title\" id=\"popup__title\" placeholder=\"Название\" required minLength={2} maxLength={30} />\n            <span className=\"error\" id=\"popup__title-error\" />\n            <input className=\"popup__input\" ref={placeLinkRef} type=\"url\" name=\"popup__link\" id=\"popup__link\" placeholder=\"Ссылка на картинку\" required />\n            <span className=\"error\" id=\"popup__link-error\" />\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup","import {Route,Redirect} from 'react-router-dom'\nimport React from 'react'\n\nconst ProtectedRoute =({\n    component: Component,\n    path: Path,\n    ...props\n})=>{\n    return <Route >{()=>props.loggedIn ? <Component{...props} /> : <Redirect to='/sign-in' />}</Route>}\n\n    export default ProtectedRoute","import React,{useRef} from'react'\nimport {withRouter} from 'react-router-dom'\n\n\nfunction Login(props){\nconst email=useRef();\nconst password=useRef();\n\n\n    function handleSubmit(e){\ne.preventDefault();\nprops.onLogin(email.current.value,password.current.value);\n    }\n    return(\n        <section className='login'>            \n            <form className=\"login__form\" id='loginForm' name='loginForm' autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\n            <h2 className='login__header'>Вход</h2>\n            <input className=\"login__input\" type=\"url\" ref={email} name=\"loginName\" id=\"loginName\" placeholder='Email'required minLength={2} maxLength={40} />\n            <span className=\"error\" id=\"loginName-error\" />\n            <input className=\"login__input\" type=\"password\" ref={password} name=\"loginPassword\" id=\"loginPassword\" placeholder='Пароль'required minLength={6} maxLength={30} />\n            <span className=\"error\" id=\"login-error\" />\n        <button className=\"login__submitbtn hover\" type=\"submit\" aria-label=\"Кнопка Войти\" onClick={handleSubmit}>Войти</button>\n        </form>\n         \n        </section>\n    )\n}\n\nexport default withRouter(Login)","import React, { useRef } from \"react\";\nimport { Link,withRouter } from \"react-router-dom\";\n\nfunction Register(props) {\n  const email = useRef();\n  const password = useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onRegisterClick(email.current.value, password.current.value);    \n  }\n  return (\n    <section className=\"login\">\n      <form\n        className=\"login__form\"\n        id=\"registerForm\"\n        name=\"registerForm\"\n        autoComplete=\"off\"\n        noValidate\n        onSubmit={handleSubmit}\n      >\n        <h2 className=\"login__header\">Регистрация</h2>\n        <input\n          className=\"login__input\"\n          type=\"url\"\n          ref={email}\n          name=\"registerName\"\n          id=\"registerName\"\n          placeholder=\"Email\"\n          required\n          minLength={2}\n          maxLength={40}\n        />\n        <span className=\"error\" id=\"loginName-error\" />\n        <input\n          className=\"login__input\"\n          type=\"password\"\n          ref={password}\n          name=\"registerPassword\"\n          id=\"registerPassword\"\n          placeholder=\"Пароль\"\n          required\n          minLength={6}\n          maxLength={30}\n        />\n        <span className=\"error\" id=\"login-error\" />\n        <button\n          className=\"login__submitbtn hover\"\n          type=\"submit\"\n          aria-label=\"Кнопка регистрации\"\n          onClick={handleSubmit}\n        >\n          Зарегистрироваться\n        </button>\n        <Link to=\"/sign-in\" className=\"login__link hover\">\n          Уже зарегистрированы? Войти\n        </Link>\n      </form>\n    </section>\n  );\n}\n\nexport default withRouter(Register);\n","export default __webpack_public_path__ + \"static/media/registerSuccess.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/registerDecline.df8eddf6.svg\";","import React from 'react'\nimport registerSuccess from '../images/registerSuccess.svg'\nimport registerDecline from '../images/registerDecline.svg'\n\nfunction InfooTooltip(props) {\n\n    return (\n      <section className={props.isOpen ? 'popup popupImage popup_status_opened' : 'popup popupImage'}>\n        <div className=\"popup__container\">\n          <img className=\"popup__image popup__registerimage\" src={props.isSuccess ? registerSuccess : registerDecline} alt={props.isSuccess ? 'Успешная регистрация' : 'Что-то пошло не так'} />\n          <h3 className=\"popup__header popup__registerheader\" >{props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так!Попробуйте ещё раз.'}</h3>\n          <button className=\"popup__closebtn popup__closeBtnImage hover\" type=\"button\" aria-label=\"Кнопка закрыть\" onClick={props.onClose} />\n        </div>\n      </section>\n    )\n  }\n  \n  export default InfooTooltip;","export class Auth {\n  constructor(options) {\n    // тело конструктора\n    this._options = options;\n    this._headers = this._options.headers;\n  }\n\n  register(email, password) {\n    return fetch(`${this._options.baseUrl}/signup`, {\n      method: \"POST\",     \n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(res.status);\n      }\n    });\n  }\n\n  login(email, password) {\n    return fetch(`${this._options.baseUrl}/signin`, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(res.status);\n      }\n    });\n  }\n\n  logout() {\n    return fetch(`${this._options.baseUrl}/`, {\n      method: \"delete\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },     \n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(res.status);\n      }\n    });\n  }\n\n  /*checkToken(token) {\n    return fetch(`${this._options.baseUrl}/users/me`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return Promise.reject(`Ошибка проверки токена входа: ${res.status}`);\n      }\n    });\n  }*/\n}\n\nconst auth = new Auth({\n  baseUrl: \"https://xenoxil.mesto-api.nomoreparties.sbs\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default auth;\n","import React from \"react\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport \"../index.css\";\nimport Header from \"./Header.js\";\nimport Footer from \"./Footer.js\";\nimport Main from \"./Main.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/api\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfooTooltip from \"./InfoTooltip\";\nimport auth from \"../utils/auth\";\n\nfunction App() {\n  const [userEmail, setUserEmail] = React.useState(\"\");\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setIsEditProfileOpen] = React.useState(false);\n  const [loggedInState, setLoggedInState] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] =\n    React.useState(false);\n  const [isAuthReqSuccess, SetIsAuthReqSuccess] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({\n    name: \"Жак-ив-кусто\",\n    avatar: \"#\",\n    about: \"Мореплаватель\",\n  });\n\n  React.useEffect(() => {\n    \n    api\n      .getProfile()\n      .then((profileObj) => {\n        if(profileObj){\n        setLoggedInState(true);\n        setCurrentUser(profileObj);\n        setUserEmail(profileObj.email);\n        history.push(\"/\");\n      }\n      else{\n        return Promise.reject('Необходима авторизация');\n      }\n      })\n      .then(()=>{ \n          api.getInitialCards()\n          .then((cardsArray) => {\n            setCards(cardsArray);\n          })})      \n      .catch((err) => console.log(\"Ошибка:\", err));      \n    }, []);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n    });\n  }\n\n  function handleCardDeleteClick(card) {\n    /*setIsDeleteConfirmationPopupOpen(true);*/\n    api.deleteCard(card._id).then(() => {\n      setCards((cards) => cards.filter((item) => item._id !== card._id));\n    });\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfileOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n  function handleUpdateUser({ name, about }) {\n    api\n      .editProfile(name, about)\n      .then(({ name, about }) => {\n        setCurrentUser((prevUserState) => {\n          return { ...prevUserState, name, about };\n        });\n\n        CloseAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .changeAvatarIcon(avatar)\n      .then(({ avatar }) => {\n        setCurrentUser((prevUserState) => {\n          return { ...prevUserState, avatar };\n        });\n        CloseAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleAddPlaceSubmit(obj) {\n    api\n      .sendElement(obj)\n      .then((card) => {\n        setCards([card, ...cards]);\n        CloseAllPopups();\n      })\n      .catch((err) => console.log(\"Ошибка добавления карточки\", err));\n  }\n\n  function CloseAllPopups() {\n    setIsEditProfileOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoToolTipPopupOpen(false);\n  }\n\n  function handleRegisterClick(email, password) {\n    auth\n      .register(email, password)\n      .then((response) => {\n        SetIsAuthReqSuccess(true);\n        history.push(\"/sign-in\");\n      })\n      .catch((err) => {\n        if (err === \"400\") {\n          console.log(\"400 - некорректно заполнено одно из полей\");\n        } else {\n          console.log(`Ошибка:`, err);\n        }\n        SetIsAuthReqSuccess(false);\n      })\n      .finally(() => {\n        setIsInfoToolTipPopupOpen(true);\n      });\n  }\n\n  function handleLoginClick(email, password) {\n    auth\n      .login(email, password)\n      .then(() => {\n        setLoggedInState(true);\n        setUserEmail(email);\n        history.push(\"/\");\n      })\n      .then(()=>{\n        api.getInfo()\n        .then(([cardsArray, profileObj]) => {\n          setCards(cardsArray);\n          setCurrentUser(profileObj);\n        })\n      })\n      .catch((err) => {\n        if (err === 401) {\n          console.log(\"401 - пользователь с email не найден\");\n        } else if (err === 400) {\n          console.log(\"400 - не передано одно из полей \");\n        } else {\n          console.log(err);\n        }\n      });\n  }\n  function handleLogOut() {\n    setLoggedInState(false);\n    auth.logout();\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          loggedIn={loggedInState}\n          userEmail={userEmail}\n          onLogOut={handleLogOut}\n        />\n        <Switch>\n          <ProtectedRoute\n            component={Main}\n            loggedIn={loggedInState}\n            exact\n            path=\"/\"\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            card={selectedCard}\n            onImage={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDeleteClick}\n          />\n\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLoginClick} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onRegisterClick={handleRegisterClick} />\n          </Route>\n        </Switch>\n        <ProtectedRoute component={Footer} loggedIn={loggedInState} path=\"/\" />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={CloseAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={CloseAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <InfooTooltip\n          isSuccess={isAuthReqSuccess}\n          isOpen={isInfoToolTipPopupOpen}\n          onClose={CloseAllPopups}\n        />\n\n        <ImagePopup\n          card={selectedCard ? selectedCard : { link: \"#\", name: \"\" }}\n          onClose={CloseAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <PopupWithForm\n          name=\"popupDeleteConfirmation\"\n          title=\"Вы уверены?\"\n          buttonLabel=\"Да\"\n          onClose={CloseAllPopups}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={CloseAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <div className='body'>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n    </div>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}