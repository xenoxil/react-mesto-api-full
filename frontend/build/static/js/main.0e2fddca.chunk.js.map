{"version":3,"sources":["images/header-logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","images/Vector-1.svg","images/Vector.svg","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/registerSuccess.svg","images/registerDecline.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","headerLogo","alt","path","to","userEmail","onClick","onLogOut","Footer","date","Date","getFullYear","CurrentUserContext","React","createContext","Card","userProfile","useContext","isOwn","cardObj","owner","_id","isLiked","likes","some","i","link","name","onCardClick","type","aria-label","onCardDelete","vector1","vector","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","item","onImage","PopupWithForm","isOpen","id","autoComplete","noValidate","onSubmit","title","children","buttonLabel","onClose","ImagePopup","card","api","options","this","_options","_headers","headers","fetch","baseUrl","then","res","ok","json","Promise","reject","status","method","catch","err","console","log","newName","newTitle","body","JSON","stringify","all","getInitialCards","getProfile","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","required","minLength","maxLength","EditAvatarPopup","avatarLinkRef","useRef","onUpdateAvatar","current","ref","placeholder","AddPlacePopup","placeNameRef","placeLinkRef","ProtectedRoute","Component","component","loggedIn","withRouter","email","password","handleSubmit","onLogin","onRegisterClick","InfooTooltip","isSuccess","registerSuccess","registerDecline","auth","credentials","App","setUserEmail","history","useHistory","isEditProfilePopupOpen","setIsEditProfileOpen","loggedInState","setLoggedInState","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoToolTipPopupOpen","setIsInfoToolTipPopupOpen","isAuthReqSuccess","SetIsAuthReqSuccess","selectedCard","setSelectedCard","setCards","currentUser","setCurrentUser","handleUpdateUser","editProfile","prevUserState","CloseAllPopups","profileObj","push","cardsArray","Provider","logout","exact","changeLikeCardStatus","newCard","state","c","deleteCard","filter","login","getInfo","register","response","finally","obj","sendElement","changeAvatarIcon","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0e2fddca.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport headerLogo from \"../images/header-logo.svg\";\r\nimport { Link,Route, Switch } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        src={headerLogo}\r\n        className=\"header__logo\"\r\n        alt=\"Логотип Место Russia\"\r\n      />\r\n      <Switch>\r\n        <Route path='/sign-up'>\r\n        <Link to='/sign-in' className='header__link hover'>\r\n            Войти\r\n            </Link>\r\n        </Route>\r\n        <Route path='/sign-in'>\r\n        <Link to='/sign-up' className='header__link hover'>\r\n          {'Регистрация'} \r\n            </Link>\r\n        </Route>\r\n        <Route path='/'>\r\n            <div className='header__container'>\r\n            <p className='header__email'>{props.userEmail}</p>\r\n            <Link to='/sign-in' className='header__link hover' onClick={props.onLogOut}>\r\n            Выйти\r\n            </Link>\r\n          </div>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\n\r\nfunction Footer() {\r\n    const date = new Date();\r\n\r\n    return (\r\n        <footer className='footer'>\r\n            <p className='footer__copyright' > &copy; {date.getFullYear()} Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\n\r\nconst CurrentUserContext = React.createContext()\r\nexport default CurrentUserContext;","export default __webpack_public_path__ + \"static/media/Vector-1.e690a784.svg\";","export default __webpack_public_path__ + \"static/media/Vector.005724a1.svg\";","import React from 'react'\r\nimport vector1 from '../images/Vector-1.svg'\r\nimport vector from '../images/Vector.svg'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js'\r\n\r\nfunction Card(props) {\r\n  const userProfile = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.cardObj.owner._id === userProfile._id;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.cardObj.likes.some(i => i._id === userProfile._id);\r\n\r\n  function likeCard() {\r\n    props.onCardLike(props.cardObj)\r\n  }\r\n  function deleteCard() {\r\n    props.onCardDelete(props.cardObj)\r\n  }\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.cardObj);\r\n  }\r\n  return (\r\n    <li className=\"element\">\r\n      <div className=\"element__container\">\r\n        <img className=\"element__image\" src={props.link} alt={props.name} onClick={handleClick} />\r\n      </div>\r\n      {isOwn &&\r\n        <button className=\"element__trashbtn hover\" type=\"button\" aria-label=\"Кнопка удалить\" onClick={deleteCard} >\r\n          <img src={vector1} alt=\"Кнопка удалить\" className=\"element__trashpic\" />\r\n          <img src={vector} alt=\"Кнопка удалить\" className=\"element__trashpic\" />\r\n        </button> \r\n      }\r\n      <div className=\"element__footer\">\r\n        <h2 className=\"element__title\" >{props.name}</h2>\r\n        <div>\r\n          <button className={isLiked ? 'element__likebtn element__likebtn_active' : 'element__likebtn'} type=\"button\" aria-label=\"Кнопка лайк\" onClick={likeCard} />\r\n          <span className=\"element__likecounter\">{props.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card","import React from 'react'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js'\r\nimport Card from './Card.js'\r\n\r\nfunction Main(props) {\r\n\r\n  const userProfile = React.useContext(CurrentUserContext);\r\n\r\n\r\n  /*const [isDeleteConfirmationPopupOpen, setIsDeleteConfirmationPopupOpen] = React.useState(false);*/\r\n\r\n\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__editavatar\" onClick={props.onEditAvatar} />\r\n        <img src={userProfile.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\r\n        <div>\r\n          <div className=\"profile__container\">\r\n            <h1 className=\"profile__name\">{userProfile.name}</h1>\r\n            <button className=\"profile__edit-btn hover\" onClick={props.onEditProfile} type=\"button\" aria-label=\"Кнопка редактировать профиль\" />\r\n          </div>\r\n          <p className=\"profile__title\">{userProfile.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-btn hover\" type=\"button\" aria-label=\"Кнопка добавить карточку\" onClick={props.onAddPlace} />\r\n      </section>\r\n      <section>\r\n        <ul className=\"elements\">\r\n          {\r\n            props.cards.map((item) => {\r\n              return (<Card cardObj={item} name={item.name} link={item.link} likes={item.likes} key={item._id}\r\n                onCardClick={props.onImage} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />)\r\n\r\n            })}\r\n        </ul>\r\n      </section>\r\n\r\n\r\n    </main>\r\n  )\r\n}\r\n\r\n\r\nexport default Main","import React from 'react'\r\nfunction PopupWithForm(props) {\r\n\r\n  return (\r\n\r\n    <section className={props.isOpen ? `popup  ${props.name} popup_status_opened` : `popup  ${props.name}`}>\r\n      <form className=\"popup__container popup__form\" id={props.id} name={props.id} autoComplete=\"off\" noValidate onSubmit={props.onSubmit}>\r\n        <h3 className=\"popup__header\">{props.title}</h3>\r\n        {props.children}\r\n        <button className=\"popup__submitbtn popup__submitProfile\" type=\"submit\" aria-label=\"Кнопка сохранить \">{props.buttonLabel}</button>\r\n        <button className=\"popup__closebtn popup__closeBtnEdit hover\" type=\"reset\" aria-label=\"Кнопка закрыть\" onClick={props.onClose} />\r\n      </form>\r\n    </section>\r\n\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react'\r\n\r\n\r\nfunction ImagePopup(props) {\r\n\r\n  return (\r\n    <section className={props.card.link !== '#' ? `popup popupImage popup_status_opened` : `popup popupImage`}>\r\n      <div className=\"popup__imagecontainer\">\r\n        <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\r\n        <h3 className=\"popup__element\" >{props.card.name}</h3>\r\n        <button className=\"popup__closebtn popup__closeBtnImage hover\" type=\"button\" aria-label=\"Кнопка закрыть\" onClick={props.onClose} />\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","export class Api {\r\n    constructor(options) {\r\n        // тело конструктора\r\n        this._options = options;\r\n        this._headers = this._options.headers;\r\n\r\n    }\r\n    //получаем карточки с сервера\r\n    getInitialCards() {\r\n        // ...\r\n        return fetch(`${this._options.baseUrl}/cards`, {\r\n            headers: this._options.headers,\r\n            'credentials': 'include',\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\r\n            })\r\n    }\r\n    //удаляем карточку на сервере\r\n    deleteCard(id) {\r\n        return fetch(`${this._options.baseUrl}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            'credentials': 'include',\r\n            headers: this._options.headers\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: удаление${res.status}`) }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    //получаем данные профайла\r\n    getProfile() {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            headers: this._options.headers,\r\n            'credentials': 'include',\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    //патчим профайл на сервере\r\n    editProfile(newName, newTitle) {\r\n        return fetch(`${this._options.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n            body: JSON.stringify({\r\n                name: newName,\r\n                about: newTitle\r\n            })\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка: ${res.status}`) }\r\n            })            \r\n    }\r\n    //одновременное получение инфы по карточкам и профилю\r\n    getInfo() {\r\n        return Promise.all([this.getInitialCards(), this.getProfile()])\r\n    }\r\n    //отправка новой карточки на сервер\r\n    sendElement({ name, link }) {\r\n        return fetch(`${this._options.baseUrl}/cards`, {\r\n            method: 'POST',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {                    \r\n                    return res.json();\r\n                } else { return Promise.reject(res.status) }\r\n            })\r\n    }\r\n    //замена аватара на сервере\r\n    changeAvatarIcon(avatar) {\r\n        return fetch(`${this._options.baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка обновления аватара: ${res.status}`) }\r\n            })            \r\n    }\r\n    changeLikeCardStatus(id, isLiked) {\r\n        // Обычная реализация: 2 разных метода для удаления и постановки лайка.\r\n        return fetch(`${this._options.baseUrl}/cards/${id}/likes`, {\r\n            method: isLiked ? 'PUT' : 'DELETE',\r\n            'credentials': 'include',\r\n            headers: this._options.headers,\r\n        })\r\n            .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n    }\r\n\r\n    //отправка лайка \r\n    sendLike(id) {\r\n        return fetch(`${this._options.baseUrl}/cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            'credentials': 'include',\r\n            headers: this._options.headers\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка при отправке лайка: ${res.status}`) }\r\n            })\r\n            .catch(() => {\r\n                console.log(`Ошибка при отправке лайка`)\r\n            })\r\n    }\r\n\r\n    //удаление лайка на сервере\r\n    removeLike(id) {\r\n        return fetch(`${this._options.baseUrl}/cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            'credentials': 'include',\r\n            headers: this._options.headers\r\n        })\r\n            .then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                } else { return Promise.reject(`Ошибка при удалении лайка: ${res.status}`) }\r\n            })\r\n            .catch((err) => {\r\n                console.log(`Ошибка при удалении лайка ${err}`)\r\n            })\r\n    }\r\n\r\n\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://api.xenoxil.mesto.nomoredomains.icu',\r\n    headers: {        \r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n/*http://localhost:3001*/\r\n\r\nexport default api","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup(props) {\r\n    const userProfile = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState(userProfile.name);\r\n    const [description, setDescription] = React.useState(userProfile.about)\r\n\r\n    React.useEffect(() => {\r\n        if (userProfile) {\r\n            setName(userProfile.name)\r\n            setDescription(userProfile.about)\r\n        }\r\n    }, [userProfile])\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n        setName(userProfile.name)\r\n        setDescription(userProfile.about)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name='popupEditProfile' title='Редактировать профиль' id='editProfileForm' buttonLabel='Сохранить' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n            <input className=\"popup__input\" type=\"text\" value={name} onChange={handleNameChange} name=\"profileName\" id=\"popup__profilename\" required minLength={2} maxLength={40} />\r\n            <span className=\"error\" id=\"popup__profilename-error\" />\r\n            <input className=\"popup__input\" type=\"text\" value={description} onChange={handleDescriptionChange} name=\"profileTitle\" id=\"popup__profiletitle\" required minLength={2} maxLength={200} />\r\n            <span className=\"error\" id=\"popup__profiletitle-error\" />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarLinkRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: avatarLinkRef.current.value,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name='popupChangeAvatar' title='Обновить Аватар' id='changeAvatarForm' buttonLabel='Сохранить' onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\r\n            <input className=\"popup__input\" ref={avatarLinkRef} type=\"url\" name=\"popup__link\" id=\"popup__linkAvatar\" placeholder=\"Ссылка на картинку\" required />\r\n            <span className=\"error\" id=\"popup__linkAvatar-error\" />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup(props) {\r\n    const placeNameRef = React.useRef();\r\n    const placeLinkRef = React.useRef();\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: placeNameRef.current.value,\r\n            link: placeLinkRef.current.value\r\n        })\r\n        placeNameRef.current.value='';\r\n        placeLinkRef.current.value='';\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm name='popupAddNewElement' onSubmit={handleSubmit} title='Новое место' id='addNewElementForm' buttonLabel='Сохранить' isOpen={props.isOpen} onClose={props.onClose}>\r\n            <input className=\"popup__input\" ref={placeNameRef} type=\"text\" name=\"popup__title\" id=\"popup__title\" placeholder=\"Название\" required minLength={2} maxLength={30} />\r\n            <span className=\"error\" id=\"popup__title-error\" />\r\n            <input className=\"popup__input\" ref={placeLinkRef} type=\"url\" name=\"popup__link\" id=\"popup__link\" placeholder=\"Ссылка на картинку\" required />\r\n            <span className=\"error\" id=\"popup__link-error\" />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import {Route,Redirect} from 'react-router-dom'\r\nimport React from 'react'\r\n\r\nconst ProtectedRoute =({\r\n    component: Component,\r\n    path: Path,\r\n    ...props\r\n})=>{\r\n    return <Route >{()=>props.loggedIn ? <Component{...props} /> : <Redirect to='/sign-in' />}</Route>}\r\n\r\n    export default ProtectedRoute","import React,{useRef} from'react'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\n\r\nfunction Login(props){\r\nconst email=useRef();\r\nconst password=useRef();\r\n\r\n\r\n    function handleSubmit(e){\r\ne.preventDefault();\r\nprops.onLogin(email.current.value,password.current.value);\r\n    }\r\n    return(\r\n        <section className='login'>            \r\n            <form className=\"login__form\" id='loginForm' name='loginForm' autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\r\n            <h2 className='login__header'>Вход</h2>\r\n            <input className=\"login__input\" type=\"url\" ref={email} name=\"loginName\" id=\"loginName\" placeholder='Email'required minLength={2} maxLength={40} />\r\n            <span className=\"error\" id=\"loginName-error\" />\r\n            <input className=\"login__input\" type=\"password\" ref={password} name=\"loginPassword\" id=\"loginPassword\" placeholder='Пароль'required minLength={6} maxLength={30} />\r\n            <span className=\"error\" id=\"login-error\" />\r\n        <button className=\"login__submitbtn hover\" type=\"submit\" aria-label=\"Кнопка Войти\" onClick={handleSubmit}>Войти</button>\r\n        </form>\r\n         \r\n        </section>\r\n    )\r\n}\r\n\r\nexport default withRouter(Login)","import React, { useRef } from \"react\";\r\nimport { Link,withRouter } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n  const email = useRef();\r\n  const password = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegisterClick(email.current.value, password.current.value);    \r\n  }\r\n  return (\r\n    <section className=\"login\">\r\n      <form\r\n        className=\"login__form\"\r\n        id=\"registerForm\"\r\n        name=\"registerForm\"\r\n        autoComplete=\"off\"\r\n        noValidate\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h2 className=\"login__header\">Регистрация</h2>\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"url\"\r\n          ref={email}\r\n          name=\"registerName\"\r\n          id=\"registerName\"\r\n          placeholder=\"Email\"\r\n          required\r\n          minLength={2}\r\n          maxLength={40}\r\n        />\r\n        <span className=\"error\" id=\"loginName-error\" />\r\n        <input\r\n          className=\"login__input\"\r\n          type=\"password\"\r\n          ref={password}\r\n          name=\"registerPassword\"\r\n          id=\"registerPassword\"\r\n          placeholder=\"Пароль\"\r\n          required\r\n          minLength={6}\r\n          maxLength={30}\r\n        />\r\n        <span className=\"error\" id=\"login-error\" />\r\n        <button\r\n          className=\"login__submitbtn hover\"\r\n          type=\"submit\"\r\n          aria-label=\"Кнопка регистрации\"\r\n          onClick={handleSubmit}\r\n        >\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link to=\"/sign-in\" className=\"login__link hover\">\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","export default __webpack_public_path__ + \"static/media/registerSuccess.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/registerDecline.d4ce2a26.svg\";","import React from 'react'\r\nimport registerSuccess from '../images/registerSuccess.svg'\r\nimport registerDecline from '../images/registerDecline.svg'\r\n\r\nfunction InfooTooltip(props) {\r\n\r\n    return (\r\n      <section className={props.isOpen ? 'popup popupImage popup_status_opened' : 'popup popupImage'}>\r\n        <div className=\"popup__container\">\r\n          <img className=\"popup__image popup__registerimage\" src={props.isSuccess ? registerSuccess : registerDecline} alt={props.isSuccess ? 'Успешная регистрация' : 'Что-то пошло не так'} />\r\n          <h3 className=\"popup__header popup__registerheader\" >{props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так!Попробуйте ещё раз.'}</h3>\r\n          <button className=\"popup__closebtn popup__closeBtnImage hover\" type=\"button\" aria-label=\"Кнопка закрыть\" onClick={props.onClose} />\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n  \r\n  export default InfooTooltip;","export class Auth {\r\n  constructor(options) {\r\n    // тело конструктора\r\n    this._options = options;\r\n    this._headers = this._options.headers;\r\n  }\r\n\r\n  register(email, password) {\r\n    return fetch(`${this._options.baseUrl}/signup`, {\r\n      method: \"POST\",     \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(res.status);\r\n      }\r\n    });\r\n  }\r\n\r\n  login(email, password) {\r\n    return fetch(`${this._options.baseUrl}/signin`, {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(res.status);\r\n      }\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    return fetch(`${this._options.baseUrl}/`, {\r\n      method: \"delete\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },     \r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(res.status);\r\n      }\r\n    });\r\n  }\r\n\r\n  /*checkToken(token) {\r\n    return fetch(`${this._options.baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      credentials: \"include\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(`Ошибка проверки токена входа: ${res.status}`);\r\n      }\r\n    });\r\n  }*/\r\n}\r\n\r\nconst auth = new Auth({\r\n  baseUrl: \"https://api.xenoxil.mesto.nomoredomains.icu\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default auth;\r\n","import React from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport \"../index.css\";\r\nimport Header from \"./Header.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport Main from \"./Main.js\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport InfooTooltip from \"./InfoTooltip\";\r\nimport auth from \"../utils/auth\";\r\n\r\nfunction App() {\r\n  const [userEmail, setUserEmail] = React.useState(\"\");\r\n  const history = useHistory();\r\n  const [isEditProfilePopupOpen, setIsEditProfileOpen] = React.useState(false);\r\n  const [loggedInState, setLoggedInState] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] =\r\n    React.useState(false);\r\n  const [isAuthReqSuccess, SetIsAuthReqSuccess] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [cards, setCards] = React.useState([]);\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"Жак-ив-кусто\",\r\n    avatar: \"#\",\r\n    about: \"Мореплаватель\",\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    \r\n    api\r\n      .getProfile()\r\n      .then((profileObj) => {\r\n        if(profileObj){\r\n        setLoggedInState(true);\r\n        setCurrentUser(profileObj);\r\n        setUserEmail(profileObj.email);\r\n        history.push(\"/\");\r\n      }\r\n      else{\r\n        return Promise.reject('Необходима авторизация');\r\n      }\r\n      })\r\n      .then(()=>{ \r\n          api.getInitialCards()\r\n          .then((cardsArray) => {\r\n            setCards(cardsArray);\r\n          })})      \r\n      .catch((err) => console.log(\"Ошибка:\", err));      \r\n    }, []);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\r\n    });\r\n  }\r\n\r\n  function handleCardDeleteClick(card) {\r\n    /*setIsDeleteConfirmationPopupOpen(true);*/\r\n    api.deleteCard(card._id).then(() => {\r\n      setCards((cards) => cards.filter((item) => item._id !== card._id));\r\n    });\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfileOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n  function handleUpdateUser({ name, about }) {\r\n    api\r\n      .editProfile(name, about)\r\n      .then(({ name, about }) => {\r\n        setCurrentUser((prevUserState) => {\r\n          return { ...prevUserState, name, about };\r\n        });\r\n\r\n        CloseAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n  function handleUpdateAvatar({ avatar }) {\r\n    api\r\n      .changeAvatarIcon(avatar)\r\n      .then(({ avatar }) => {\r\n        setCurrentUser((prevUserState) => {\r\n          return { ...prevUserState, avatar };\r\n        });\r\n        CloseAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(obj) {\r\n    api\r\n      .sendElement(obj)\r\n      .then((card) => {\r\n        setCards([card, ...cards]);\r\n        CloseAllPopups();\r\n      })\r\n      .catch((err) => console.log(\"Ошибка добавления карточки\", err));\r\n  }\r\n\r\n  function CloseAllPopups() {\r\n    setIsEditProfileOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard(null);\r\n    setIsInfoToolTipPopupOpen(false);\r\n  }\r\n\r\n  function handleRegisterClick(email, password) {\r\n    auth\r\n      .register(email, password)\r\n      .then((response) => {\r\n        SetIsAuthReqSuccess(true);\r\n        history.push(\"/sign-in\");\r\n      })\r\n      .catch((err) => {\r\n        if (err === \"400\") {\r\n          console.log(\"400 - некорректно заполнено одно из полей\");\r\n        } else {\r\n          console.log(`Ошибка:`, err);\r\n        }\r\n        SetIsAuthReqSuccess(false);\r\n      })\r\n      .finally(() => {\r\n        setIsInfoToolTipPopupOpen(true);\r\n      });\r\n  }\r\n\r\n  function handleLoginClick(email, password) {\r\n    auth\r\n      .login(email, password)\r\n      .then(() => {\r\n        setLoggedInState(true);\r\n        setUserEmail(email);\r\n        history.push(\"/\");\r\n      })\r\n      .then(()=>{\r\n        api.getInfo()\r\n        .then(([cardsArray, profileObj]) => {\r\n          setCards(cardsArray);\r\n          setCurrentUser(profileObj);\r\n        })\r\n      })\r\n      .catch((err) => {\r\n        if (err === 401) {\r\n          console.log(\"401 - пользователь с email не найден\");\r\n        } else if (err === 400) {\r\n          console.log(\"400 - не передано одно из полей \");\r\n        } else {\r\n          console.log(err);\r\n        }\r\n      });\r\n  }\r\n  function handleLogOut() {\r\n    setLoggedInState(false);\r\n    auth.logout();\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header\r\n          loggedIn={loggedInState}\r\n          userEmail={userEmail}\r\n          onLogOut={handleLogOut}\r\n        />\r\n        <Switch>\r\n          <ProtectedRoute\r\n            component={Main}\r\n            loggedIn={loggedInState}\r\n            exact\r\n            path=\"/\"\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            card={selectedCard}\r\n            onImage={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDeleteClick}\r\n          />\r\n\r\n          <Route path=\"/sign-in\">\r\n            <Login onLogin={handleLoginClick} />\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n            <Register onRegisterClick={handleRegisterClick} />\r\n          </Route>\r\n        </Switch>\r\n        <ProtectedRoute component={Footer} loggedIn={loggedInState} path=\"/\" />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={CloseAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={CloseAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <InfooTooltip\r\n          isSuccess={isAuthReqSuccess}\r\n          isOpen={isInfoToolTipPopupOpen}\r\n          onClose={CloseAllPopups}\r\n        />\r\n\r\n        <ImagePopup\r\n          card={selectedCard ? selectedCard : { link: \"#\", name: \"\" }}\r\n          onClose={CloseAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n        <PopupWithForm\r\n          name=\"popupDeleteConfirmation\"\r\n          title=\"Вы уверены?\"\r\n          buttonLabel=\"Да\"\r\n          onClose={CloseAllPopups}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={CloseAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <div className='body'>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n    </div>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}